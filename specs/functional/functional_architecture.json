{
  "document_metadata": {
    "document_type": "functional_architecture",
    "system_name": "Chain Reflow System",
    "version": "1.0.0",
    "created": "2025-11-04",
    "framework": "functional_flow",
    "purpose": "Define HOW chain_reflow achieves functional requirements through process flows",
    "context_aware": true,
    "context_threshold": 160000
  },
  "framework_configuration": {
    "framework_id": "functional_flow",
    "framework_name": "Functional Flow Framework",
    "component_term": "function",
    "connection_term": "function_call_or_data_flow",
    "edge_weight_metric": "context_consumption_tokens"
  },
  "functional_flows": [
    {
      "flow_id": "FLOW-001",
      "flow_name": "Workflow Execution Flow",
      "description": "Load and execute JSON workflows step-by-step",
      "entry_point": "F-001",
      "exit_points": [
        "F-006"
      ],
      "implements_requirements": [
        "FR-009"
      ],
      "functions": [
        "F-001",
        "F-002",
        "F-003",
        "F-004",
        "F-005",
        "F-006"
      ]
    },
    {
      "flow_id": "FLOW-002",
      "flow_name": "Architecture Linking Flow",
      "description": "Link multiple system_of_systems_graph.json files",
      "entry_point": "F-010",
      "exit_points": [
        "F-017"
      ],
      "implements_requirements": [
        "FR-001",
        "FR-006",
        "FR-007"
      ],
      "functions": [
        "F-010",
        "F-011",
        "F-012",
        "F-013",
        "F-014",
        "F-015",
        "F-016",
        "F-017"
      ]
    },
    {
      "flow_id": "FLOW-003",
      "flow_name": "Matryoshka Analysis Flow",
      "description": "Detect hierarchy levels and relationships",
      "entry_point": "F-020",
      "exit_points": [
        "F-024"
      ],
      "implements_requirements": [
        "FR-003"
      ],
      "functions": [
        "F-020",
        "F-021",
        "F-022",
        "F-023",
        "F-024"
      ]
    },
    {
      "flow_id": "FLOW-004",
      "flow_name": "Causality Analysis Flow",
      "description": "Distinguish correlation from causation",
      "entry_point": "F-030",
      "exit_points": [
        "F-035"
      ],
      "implements_requirements": [
        "FR-004"
      ],
      "functions": [
        "F-030",
        "F-031",
        "F-032",
        "F-033",
        "F-034",
        "F-035"
      ]
    },
    {
      "flow_id": "FLOW-005",
      "flow_name": "Creative Linking Flow",
      "description": "Link orthogonal architectures using synesthetic mapping",
      "entry_point": "F-040",
      "exit_points": [
        "F-045"
      ],
      "implements_requirements": [
        "FR-002",
        "FR-005"
      ],
      "functions": [
        "F-040",
        "F-041",
        "F-042",
        "F-043",
        "F-044",
        "F-045"
      ]
    },
    {
      "flow_id": "FLOW-006",
      "flow_name": "Touchpoint Discovery Flow",
      "description": "Identify connection points between architectures",
      "entry_point": "F-050",
      "exit_points": [
        "F-054"
      ],
      "implements_requirements": [
        "FR-001"
      ],
      "functions": [
        "F-050",
        "F-051",
        "F-052",
        "F-053",
        "F-054"
      ]
    },
    {
      "flow_id": "FLOW-007",
      "flow_name": "Integration Validation Flow",
      "description": "Validate integrated architecture for orphans and gaps",
      "entry_point": "F-060",
      "exit_points": [
        "F-064"
      ],
      "implements_requirements": [
        "FR-008"
      ],
      "functions": [
        "F-060",
        "F-061",
        "F-062",
        "F-063",
        "F-064"
      ]
    },
    {
      "flow_id": "FLOW-008",
      "flow_name": "Context Management Flow",
      "description": "Manage working memory and prevent context overflow",
      "entry_point": "F-070",
      "exit_points": [
        "F-073"
      ],
      "implements_requirements": [
        "FR-010"
      ],
      "functions": [
        "F-070",
        "F-071",
        "F-072",
        "F-073"
      ]
    },
    {
      "flow_id": "FLOW-009",
      "flow_name": "Matrix Gap Detection Flow",
      "description": "Mathematically infer missing intermediate systems using linear algebra (homography matrix approach)",
      "entry_point": "F-080",
      "exit_points": [
        "F-085"
      ],
      "implements_requirements": [
        "FR-001",
        "FR-003"
      ],
      "functions": [
        "F-080",
        "F-081",
        "F-082",
        "F-083",
        "F-084",
        "F-085"
      ]
    }
  ],
  "functions": [
    {
      "function_id": "F-001",
      "function_name": "Load Workflow JSON",
      "function_type": "read",
      "description": "Read workflow JSON file from disk",
      "inputs": [
        "workflow_file_path"
      ],
      "outputs": [
        "workflow_data"
      ],
      "context_consumption": 8000,
      "error_handling": "FileNotFoundError, JSONDecodeError",
      "execution_time_seconds": 2
    },
    {
      "function_id": "F-002",
      "function_name": "Initialize Workflow State",
      "function_type": "process",
      "description": "Set up working memory for workflow execution",
      "inputs": [
        "workflow_data",
        "working_memory"
      ],
      "outputs": [
        "updated_working_memory"
      ],
      "context_consumption": 2000,
      "execution_time_seconds": 5
    },
    {
      "function_id": "F-003",
      "function_name": "Get Current Step",
      "function_type": "decide",
      "description": "Determine which workflow step to execute next",
      "inputs": [
        "workflow_data",
        "working_memory"
      ],
      "outputs": [
        "current_step"
      ],
      "context_consumption": 1000,
      "execution_time_seconds": 1
    },
    {
      "function_id": "F-004",
      "function_name": "Execute Step Actions",
      "function_type": "process",
      "description": "Run all actions for current workflow step",
      "inputs": [
        "current_step",
        "working_memory"
      ],
      "outputs": [
        "action_results"
      ],
      "context_consumption": 5000,
      "execution_time_seconds": 5
    },
    {
      "function_id": "F-005",
      "function_name": "Update Progress Tracker",
      "function_type": "write",
      "description": "Record step completion in progress tracker",
      "inputs": [
        "step_id",
        "status"
      ],
      "outputs": [
        "updated_tracker"
      ],
      "context_consumption": 1000,
      "execution_time_seconds": 1
    },
    {
      "function_id": "F-006",
      "function_name": "Check Workflow Complete",
      "function_type": "decide",
      "description": "Determine if workflow has more steps or is complete",
      "inputs": [
        "current_step"
      ],
      "outputs": [
        "next_step_id_or_none"
      ],
      "context_consumption": 500,
      "execution_time_seconds": 1
    },
    {
      "function_id": "F-010",
      "function_name": "Load Multiple System Graphs",
      "function_type": "read",
      "description": "Read 2+ system_of_systems_graph.json files",
      "inputs": [
        "graph_file_paths"
      ],
      "outputs": [
        "loaded_graphs"
      ],
      "context_consumption": 25000,
      "context_note": "HIGH - Each graph can be 10-15k tokens",
      "execution_time_seconds": 2
    },
    {
      "function_id": "F-011",
      "function_name": "Extract Framework IDs",
      "function_type": "process",
      "description": "Identify framework type for each graph",
      "inputs": [
        "loaded_graphs"
      ],
      "outputs": [
        "framework_ids"
      ],
      "context_consumption": 2000,
      "execution_time_seconds": 5
    },
    {
      "function_id": "F-012",
      "function_name": "Check Framework Compatibility",
      "function_type": "validate",
      "description": "Warn if linking different framework types",
      "inputs": [
        "framework_ids"
      ],
      "outputs": [
        "compatibility_report"
      ],
      "context_consumption": 3000,
      "implements": "FR-011",
      "execution_time_seconds": 10
    },
    {
      "function_id": "F-013",
      "function_name": "Assess Orthogonality",
      "function_type": "analyze",
      "description": "Classify architecture pair as ALIGNED/RELATED/DIVERGENT/ORTHOGONAL",
      "inputs": [
        "graph_a",
        "graph_b"
      ],
      "outputs": [
        "orthogonality_level"
      ],
      "context_consumption": 8000,
      "implements": "FR-002",
      "execution_time_seconds": 15
    },
    {
      "function_id": "F-014",
      "function_name": "Select Linking Strategy",
      "function_type": "decide",
      "description": "Choose standard vs creative linking based on orthogonality",
      "inputs": [
        "orthogonality_level"
      ],
      "outputs": [
        "linking_strategy"
      ],
      "context_consumption": 2000,
      "execution_time_seconds": 1
    },
    {
      "function_id": "F-015",
      "function_name": "Discover Touchpoints",
      "function_type": "analyze",
      "description": "Find connection points between architectures",
      "inputs": [
        "graph_a",
        "graph_b",
        "linking_strategy"
      ],
      "outputs": [
        "touchpoints"
      ],
      "context_consumption": 12000,
      "implements": "FR-001",
      "execution_time_seconds": 15
    },
    {
      "function_id": "F-016",
      "function_name": "Merge Graphs",
      "function_type": "generate",
      "description": "Create integrated system_of_systems_graph.json",
      "inputs": [
        "loaded_graphs",
        "touchpoints"
      ],
      "outputs": [
        "integrated_graph"
      ],
      "context_consumption": 15000,
      "implements": "FR-007",
      "execution_time_seconds": 5
    },
    {
      "function_id": "F-017",
      "function_name": "Write Integrated Graph",
      "function_type": "write",
      "description": "Save integrated graph to disk",
      "inputs": [
        "integrated_graph"
      ],
      "outputs": [
        "output_file_path"
      ],
      "context_consumption": 2000,
      "execution_time_seconds": 1
    },
    {
      "function_id": "F-020",
      "function_name": "Load Architecture for Hierarchy Analysis",
      "function_type": "read",
      "description": "Read architecture JSON for matryoshka analysis",
      "inputs": [
        "architecture_file_path"
      ],
      "outputs": [
        "architecture_data"
      ],
      "context_consumption": 12000,
      "execution_time_seconds": 2
    },
    {
      "function_id": "F-021",
      "function_name": "Infer Hierarchy Levels",
      "function_type": "analyze",
      "description": "Classify nodes as component/subsystem/system/system-of-systems/enterprise",
      "inputs": [
        "architecture_data"
      ],
      "outputs": [
        "hierarchy_classifications"
      ],
      "context_consumption": 8000,
      "implements": "FR-003",
      "execution_time_seconds": 15
    },
    {
      "function_id": "F-022",
      "function_name": "Detect Parent-Child Relationships",
      "function_type": "analyze",
      "description": "Identify which nodes contain others",
      "inputs": [
        "architecture_data",
        "hierarchy_classifications"
      ],
      "outputs": [
        "parent_child_relationships"
      ],
      "context_consumption": 6000,
      "execution_time_seconds": 15
    },
    {
      "function_id": "F-023",
      "function_name": "Detect Missing Intermediate Levels",
      "function_type": "analyze",
      "description": "Find hierarchy gaps (e.g., component links to system without subsystem)",
      "inputs": [
        "parent_child_relationships"
      ],
      "outputs": [
        "hierarchy_gaps"
      ],
      "context_consumption": 5000,
      "implements": "FR-003",
      "execution_time_seconds": 15
    },
    {
      "function_id": "F-024",
      "function_name": "Generate Hierarchy Analysis Report",
      "function_type": "generate",
      "description": "Create matryoshka analysis output document",
      "inputs": [
        "hierarchy_classifications",
        "parent_child_relationships",
        "hierarchy_gaps"
      ],
      "outputs": [
        "hierarchy_analysis_json"
      ],
      "context_consumption": 6000,
      "execution_time_seconds": 5
    },
    {
      "function_id": "F-030",
      "function_name": "Load Paired Architectures",
      "function_type": "read",
      "description": "Read two architecture files for causality analysis",
      "inputs": [
        "system_a_path",
        "system_b_path"
      ],
      "outputs": [
        "system_a_data",
        "system_b_data"
      ],
      "context_consumption": 24000,
      "context_note": "HIGH - Two large graphs",
      "execution_time_seconds": 2
    },
    {
      "function_id": "F-031",
      "function_name": "Detect Correlations",
      "function_type": "analyze",
      "description": "Identify observed patterns suggesting relationship",
      "inputs": [
        "system_a_data",
        "system_b_data"
      ],
      "outputs": [
        "correlations"
      ],
      "context_consumption": 8000,
      "implements": "FR-004",
      "execution_time_seconds": 15
    },
    {
      "function_id": "F-032",
      "function_name": "Generate Causal Hypotheses",
      "function_type": "generate",
      "description": "Propose competing explanations (A\u2192B, B\u2192A, A\u2194B, spurious)",
      "inputs": [
        "correlations"
      ],
      "outputs": [
        "hypotheses"
      ],
      "context_consumption": 6000,
      "implements": "FR-004",
      "execution_time_seconds": 5
    },
    {
      "function_id": "F-033",
      "function_name": "Design Validation Experiments",
      "function_type": "generate",
      "description": "Create experiments to test causal claims",
      "inputs": [
        "hypotheses"
      ],
      "outputs": [
        "validation_experiments"
      ],
      "context_consumption": 7000,
      "implements": "FR-004",
      "execution_time_seconds": 5
    },
    {
      "function_id": "F-034",
      "function_name": "Analyze Temporal Relationships",
      "function_type": "analyze",
      "description": "Verify cause precedes effect",
      "inputs": [
        "system_a_data",
        "system_b_data"
      ],
      "outputs": [
        "temporal_analysis"
      ],
      "context_consumption": 5000,
      "execution_time_seconds": 15
    },
    {
      "function_id": "F-035",
      "function_name": "Generate Causality Report",
      "function_type": "generate",
      "description": "Document causality analysis results",
      "inputs": [
        "correlations",
        "hypotheses",
        "validation_experiments",
        "temporal_analysis"
      ],
      "outputs": [
        "causality_analysis_json"
      ],
      "context_consumption": 8000,
      "execution_time_seconds": 5
    },
    {
      "function_id": "F-040",
      "function_name": "Load Synesthetic Mapping Library",
      "function_type": "read",
      "description": "Load predefined cross-domain metaphors",
      "inputs": [],
      "outputs": [
        "synesthetic_mappings"
      ],
      "context_consumption": 3000,
      "execution_time_seconds": 2
    },
    {
      "function_id": "F-041",
      "function_name": "Assess Orthogonality for Creative Linking",
      "function_type": "analyze",
      "description": "Determine if architectures are orthogonal enough to require creative linking",
      "inputs": [
        "graph_a",
        "graph_b"
      ],
      "outputs": [
        "orthogonality_assessment"
      ],
      "context_consumption": 7000,
      "implements": "FR-002",
      "execution_time_seconds": 15
    },
    {
      "function_id": "F-042",
      "function_name": "Request User Consent",
      "function_type": "interact",
      "description": "Ask user to approve creative linking",
      "inputs": [
        "orthogonality_assessment"
      ],
      "outputs": [
        "user_consent"
      ],
      "context_consumption": 2000,
      "implements": "FR-013",
      "execution_time_seconds": 60
    },
    {
      "function_id": "F-043",
      "function_name": "Apply Synesthetic Mappings",
      "function_type": "process",
      "description": "Find cross-domain metaphors (e.g., biological \u2192 software)",
      "inputs": [
        "graph_a",
        "graph_b",
        "synesthetic_mappings"
      ],
      "outputs": [
        "creative_touchpoints"
      ],
      "context_consumption": 10000,
      "implements": "FR-005",
      "execution_time_seconds": 5
    },
    {
      "function_id": "F-044",
      "function_name": "Find Structural Analogies",
      "function_type": "analyze",
      "description": "Identify components with similar roles in their systems",
      "inputs": [
        "graph_a",
        "graph_b"
      ],
      "outputs": [
        "analogies"
      ],
      "context_consumption": 9000,
      "implements": "FR-005",
      "execution_time_seconds": 15
    },
    {
      "function_id": "F-045",
      "function_name": "Mark Links as Exploratory",
      "function_type": "process",
      "description": "Tag all creative links as requiring validation",
      "inputs": [
        "creative_touchpoints",
        "analogies"
      ],
      "outputs": [
        "marked_touchpoints"
      ],
      "context_consumption": 2000,
      "execution_time_seconds": 5
    },
    {
      "function_id": "F-050",
      "function_name": "Identify Potential Interfaces",
      "function_type": "analyze",
      "description": "Find nodes that could connect",
      "inputs": [
        "graph_a",
        "graph_b"
      ],
      "outputs": [
        "potential_interfaces"
      ],
      "context_consumption": 10000,
      "implements": "FR-001",
      "execution_time_seconds": 15
    },
    {
      "function_id": "F-051",
      "function_name": "Match Interface Types",
      "function_type": "analyze",
      "description": "Verify interface compatibility",
      "inputs": [
        "potential_interfaces"
      ],
      "outputs": [
        "matched_interfaces"
      ],
      "context_consumption": 6000,
      "execution_time_seconds": 15
    },
    {
      "function_id": "F-052",
      "function_name": "Verify Protocol Compatibility",
      "function_type": "validate",
      "description": "Check if interfaces can actually communicate",
      "inputs": [
        "matched_interfaces"
      ],
      "outputs": [
        "compatible_touchpoints"
      ],
      "context_consumption": 5000,
      "execution_time_seconds": 10
    },
    {
      "function_id": "F-053",
      "function_name": "Calculate Touchpoint Confidence",
      "function_type": "analyze",
      "description": "Assign confidence scores to touchpoints",
      "inputs": [
        "compatible_touchpoints"
      ],
      "outputs": [
        "scored_touchpoints"
      ],
      "context_consumption": 3000,
      "execution_time_seconds": 15
    },
    {
      "function_id": "F-054",
      "function_name": "Generate Touchpoint Catalog",
      "function_type": "generate",
      "description": "Document all discovered touchpoints",
      "inputs": [
        "scored_touchpoints"
      ],
      "outputs": [
        "touchpoint_catalog"
      ],
      "context_consumption": 5000,
      "execution_time_seconds": 5
    },
    {
      "function_id": "F-060",
      "function_name": "Load Integrated Graph for Validation",
      "function_type": "read",
      "description": "Read integrated architecture for validation",
      "inputs": [
        "integrated_graph_path"
      ],
      "outputs": [
        "integrated_graph"
      ],
      "context_consumption": 18000,
      "context_note": "HIGH - Integrated graph is larger than originals",
      "execution_time_seconds": 2
    },
    {
      "function_id": "F-061",
      "function_name": "Detect Orphaned Nodes",
      "function_type": "validate",
      "description": "Find nodes with no connections",
      "inputs": [
        "integrated_graph"
      ],
      "outputs": [
        "orphaned_nodes"
      ],
      "context_consumption": 6000,
      "implements": "FR-008",
      "execution_time_seconds": 10
    },
    {
      "function_id": "F-062",
      "function_name": "Detect Orphaned Interfaces",
      "function_type": "validate",
      "description": "Find interfaces with missing providers or consumers",
      "inputs": [
        "integrated_graph"
      ],
      "outputs": [
        "orphaned_interfaces"
      ],
      "context_consumption": 7000,
      "implements": "FR-008",
      "execution_time_seconds": 10
    },
    {
      "function_id": "F-063",
      "function_name": "Detect Circular Dependencies",
      "function_type": "validate",
      "description": "Find cycles in dependency graph",
      "inputs": [
        "integrated_graph"
      ],
      "outputs": [
        "circular_dependencies"
      ],
      "context_consumption": 8000,
      "implements": "FR-008",
      "execution_time_seconds": 10
    },
    {
      "function_id": "F-064",
      "function_name": "Generate Validation Report",
      "function_type": "generate",
      "description": "Document all validation findings",
      "inputs": [
        "orphaned_nodes",
        "orphaned_interfaces",
        "circular_dependencies"
      ],
      "outputs": [
        "validation_report"
      ],
      "context_consumption": 6000,
      "execution_time_seconds": 5
    },
    {
      "function_id": "F-070",
      "function_name": "Load Working Memory",
      "function_type": "read",
      "description": "Read working_memory.json",
      "inputs": [
        "working_memory_path"
      ],
      "outputs": [
        "working_memory"
      ],
      "context_consumption": 2000,
      "execution_time_seconds": 2
    },
    {
      "function_id": "F-071",
      "function_name": "Update Working Memory",
      "function_type": "write",
      "description": "Save updated state to working_memory.json",
      "inputs": [
        "working_memory"
      ],
      "outputs": [
        "saved"
      ],
      "context_consumption": 2000,
      "implements": "FR-010",
      "execution_time_seconds": 1
    },
    {
      "function_id": "F-072",
      "function_name": "Check Operations Counter",
      "function_type": "decide",
      "description": "Determine if context refresh needed",
      "inputs": [
        "working_memory"
      ],
      "outputs": [
        "refresh_needed"
      ],
      "context_consumption": 500,
      "implements": "FR-010",
      "execution_time_seconds": 1
    },
    {
      "function_id": "F-073",
      "function_name": "Execute Context Refresh",
      "function_type": "process",
      "description": "Reset operations counter and save state",
      "inputs": [
        "working_memory"
      ],
      "outputs": [
        "refreshed_memory"
      ],
      "context_consumption": 3000,
      "execution_time_seconds": 5
    },
    {
      "function_id": "F-080",
      "function_name": "Load Systems for Gap Detection",
      "function_type": "read",
      "description": "Load two system graphs (A and C) for missing system inference",
      "inputs": [
        "system_a_path",
        "system_c_path"
      ],
      "outputs": [
        "system_a_graph",
        "system_c_graph"
      ],
      "context_consumption": 20000,
      "implements": "FR-001",
      "execution_time_seconds": 3
    },
    {
      "function_id": "F-081",
      "function_name": "Convert Graphs to Adjacency Matrices",
      "function_type": "process",
      "description": "Transform graph representations into matrix form",
      "inputs": [
        "system_a_graph",
        "system_c_graph"
      ],
      "outputs": [
        "matrix_a",
        "matrix_c"
      ],
      "context_consumption": 5000,
      "execution_time_seconds": 2
    },
    {
      "function_id": "F-082",
      "function_name": "Solve for Transformation Matrix",
      "function_type": "process",
      "description": "Compute missing system B using pseudoinverse: B = C * A^(-1)",
      "inputs": [
        "matrix_a",
        "matrix_c"
      ],
      "outputs": [
        "transformation_matrix_b"
      ],
      "context_consumption": 3000,
      "execution_time_seconds": 1
    },
    {
      "function_id": "F-083",
      "function_name": "SVD Decomposition",
      "function_type": "process",
      "description": "Apply SVD to detect multi-layer subsystem structure",
      "inputs": [
        "transformation_matrix_b"
      ],
      "outputs": [
        "singular_values",
        "left_vectors",
        "right_vectors"
      ],
      "context_consumption": 4000,
      "execution_time_seconds": 2
    },
    {
      "function_id": "F-084",
      "function_name": "Interpret Matrix Properties",
      "function_type": "process",
      "description": "Generate hypotheses about missing system from matrix characteristics",
      "inputs": [
        "transformation_matrix_b",
        "singular_values",
        "system_a_graph",
        "system_c_graph"
      ],
      "outputs": [
        "subsystem_descriptions",
        "hypotheses",
        "confidence_scores"
      ],
      "context_consumption": 8000,
      "implements": "FR-003",
      "execution_time_seconds": 5
    },
    {
      "function_id": "F-085",
      "function_name": "Generate Gap Detection Report",
      "function_type": "generate",
      "description": "Create human-readable report of missing system inference",
      "inputs": [
        "subsystem_descriptions",
        "hypotheses",
        "confidence_scores"
      ],
      "outputs": [
        "gap_detection_report"
      ],
      "context_consumption": 6000,
      "execution_time_seconds": 3
    }
  ],
  "function_dependencies": [
    {
      "source": "F-001",
      "target": "F-002",
      "type": "data_flow",
      "weight": 8000
    },
    {
      "source": "F-002",
      "target": "F-003",
      "type": "control_flow",
      "weight": 2000
    },
    {
      "source": "F-003",
      "target": "F-004",
      "type": "control_flow",
      "weight": 1000
    },
    {
      "source": "F-004",
      "target": "F-005",
      "type": "data_flow",
      "weight": 5000
    },
    {
      "source": "F-005",
      "target": "F-006",
      "type": "control_flow",
      "weight": 1000
    },
    {
      "source": "F-006",
      "target": "F-003",
      "type": "control_flow",
      "weight": 500,
      "condition": "more steps"
    },
    {
      "source": "F-010",
      "target": "F-011",
      "type": "data_flow",
      "weight": 25000
    },
    {
      "source": "F-011",
      "target": "F-012",
      "type": "data_flow",
      "weight": 2000
    },
    {
      "source": "F-012",
      "target": "F-013",
      "type": "control_flow",
      "weight": 3000
    },
    {
      "source": "F-013",
      "target": "F-014",
      "type": "data_flow",
      "weight": 8000
    },
    {
      "source": "F-014",
      "target": "F-015",
      "type": "control_flow",
      "weight": 2000
    },
    {
      "source": "F-015",
      "target": "F-016",
      "type": "data_flow",
      "weight": 12000
    },
    {
      "source": "F-016",
      "target": "F-017",
      "type": "data_flow",
      "weight": 15000
    },
    {
      "source": "F-020",
      "target": "F-021",
      "type": "data_flow",
      "weight": 12000
    },
    {
      "source": "F-021",
      "target": "F-022",
      "type": "data_flow",
      "weight": 8000
    },
    {
      "source": "F-022",
      "target": "F-023",
      "type": "data_flow",
      "weight": 6000
    },
    {
      "source": "F-023",
      "target": "F-024",
      "type": "data_flow",
      "weight": 5000
    },
    {
      "source": "F-030",
      "target": "F-031",
      "type": "data_flow",
      "weight": 24000
    },
    {
      "source": "F-031",
      "target": "F-032",
      "type": "data_flow",
      "weight": 8000
    },
    {
      "source": "F-032",
      "target": "F-033",
      "type": "data_flow",
      "weight": 6000
    },
    {
      "source": "F-030",
      "target": "F-034",
      "type": "data_flow",
      "weight": 24000
    },
    {
      "source": "F-033",
      "target": "F-035",
      "type": "data_flow",
      "weight": 7000
    },
    {
      "source": "F-034",
      "target": "F-035",
      "type": "data_flow",
      "weight": 5000
    },
    {
      "source": "F-040",
      "target": "F-041",
      "type": "data_flow",
      "weight": 3000
    },
    {
      "source": "F-041",
      "target": "F-042",
      "type": "control_flow",
      "weight": 7000
    },
    {
      "source": "F-042",
      "target": "F-043",
      "type": "control_flow",
      "weight": 2000,
      "condition": "user consents"
    },
    {
      "source": "F-043",
      "target": "F-045",
      "type": "data_flow",
      "weight": 10000
    },
    {
      "source": "F-041",
      "target": "F-044",
      "type": "control_flow",
      "weight": 7000
    },
    {
      "source": "F-044",
      "target": "F-045",
      "type": "data_flow",
      "weight": 9000
    },
    {
      "source": "F-050",
      "target": "F-051",
      "type": "data_flow",
      "weight": 10000
    },
    {
      "source": "F-051",
      "target": "F-052",
      "type": "data_flow",
      "weight": 6000
    },
    {
      "source": "F-052",
      "target": "F-053",
      "type": "data_flow",
      "weight": 5000
    },
    {
      "source": "F-053",
      "target": "F-054",
      "type": "data_flow",
      "weight": 3000
    },
    {
      "source": "F-060",
      "target": "F-061",
      "type": "data_flow",
      "weight": 18000
    },
    {
      "source": "F-060",
      "target": "F-062",
      "type": "data_flow",
      "weight": 18000
    },
    {
      "source": "F-060",
      "target": "F-063",
      "type": "data_flow",
      "weight": 18000
    },
    {
      "source": "F-061",
      "target": "F-064",
      "type": "data_flow",
      "weight": 6000
    },
    {
      "source": "F-062",
      "target": "F-064",
      "type": "data_flow",
      "weight": 7000
    },
    {
      "source": "F-063",
      "target": "F-064",
      "type": "data_flow",
      "weight": 8000
    },
    {
      "source": "F-070",
      "target": "F-071",
      "type": "data_flow",
      "weight": 2000
    },
    {
      "source": "F-070",
      "target": "F-072",
      "type": "control_flow",
      "weight": 2000
    },
    {
      "source": "F-072",
      "target": "F-073",
      "type": "control_flow",
      "weight": 500,
      "condition": "refresh needed"
    },
    {
      "source": "F-080",
      "target": "F-081",
      "type": "data_flow",
      "weight": 20000
    },
    {
      "source": "F-081",
      "target": "F-082",
      "type": "data_flow",
      "weight": 5000
    },
    {
      "source": "F-082",
      "target": "F-083",
      "type": "data_flow",
      "weight": 3000
    },
    {
      "source": "F-083",
      "target": "F-084",
      "type": "data_flow",
      "weight": 4000
    },
    {
      "source": "F-084",
      "target": "F-085",
      "type": "data_flow",
      "weight": 8000
    }
  ],
  "context_analysis": {
    "total_functions": 54,
    "total_flows": 9,
    "high_context_functions": [
      {
        "function_id": "F-010",
        "context": 25000,
        "reason": "Loads multiple large graphs"
      },
      {
        "function_id": "F-080",
        "context": 20000,
        "reason": "Loads two systems for matrix gap detection"
      },
      {
        "function_id": "F-030",
        "context": 24000,
        "reason": "Loads two large graphs for comparison"
      },
      {
        "function_id": "F-060",
        "context": 18000,
        "reason": "Loads large integrated graph"
      }
    ],
    "context_bottleneck_paths": [
      {
        "path": "F-010 \u2192 F-011 \u2192 F-012 \u2192 F-013 \u2192 F-014 \u2192 F-015 \u2192 F-016 \u2192 F-017",
        "cumulative_context": 75000,
        "severity": "ACCEPTABLE",
        "reasoning": "Well below 160k threshold"
      },
      {
        "path": "F-030 \u2192 F-031 \u2192 F-032 \u2192 F-033 \u2192 F-034 \u2192 F-035",
        "cumulative_context": 82000,
        "severity": "ACCEPTABLE",
        "reasoning": "Well below 160k threshold"
      },
      {
        "path": "F-080 \u2192 F-081 \u2192 F-082 \u2192 F-083 \u2192 F-084 \u2192 F-085",
        "cumulative_context": 46000,
        "severity": "ACCEPTABLE",
        "reasoning": "Matrix gap detection flow - well below threshold"
      }
    ],
    "max_context_path": 82000,
    "context_threshold": 160000,
    "context_health": "HEALTHY",
    "context_efficiency": "HIGH"
  },
  "operational_testing_linkage": {
    "test_scenarios_by_flow": {
      "FLOW-001": "Test workflow execution with sample workflow JSON",
      "FLOW-002": "Test linking two sample system graphs",
      "FLOW-003": "Test matryoshka analysis on hierarchical architecture",
      "FLOW-004": "Test causality analysis on two related systems",
      "FLOW-005": "Test creative linking with orthogonal architectures",
      "FLOW-006": "Test touchpoint discovery between compatible systems",
      "FLOW-007": "Test validation on integrated graph with known issues",
      "FLOW-008": "Test context management and refresh mechanism",
      "FLOW-009": "Test matrix gap detection with degraded and balanced ecosystem graphs"
    }
  },
  "summary": {
    "total_functions": 54,
    "total_flows": 9,
    "total_dependencies": 47,
    "max_context_path_tokens": 82000,
    "context_threshold_tokens": 160000,
    "context_health_status": "HEALTHY",
    "all_requirements_implemented": true,
    "critical_requirements_coverage": "100%"
  }
}